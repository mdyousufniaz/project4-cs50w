{% extends "network/layout.html" %}
{% load static %}

{% block script %}
    <script src="{% static 'network/profile.js' %}"></script>
{% endblock %}

{% block heading %}
    Profile
{% endblock %}

{% block dashboard %}
<div class="container-fluid border">
    <div class="row">
        <div class="col-10">
            <h2>{{ base_user.username }}</h2>
            <i class="pl-4">{{ base_user.email }}</i>
        </div>
        {% if user != base_user %}
            <div class="col-2 d-flex align-items-center justify-content-center">
                <button class="btn
                {% if user in base_user.followings %}
                    btn-outline-primary">Unfollow
                {% else %}
                    btn-primary">Follow
                {% endif %}
                </button>
            </div>
        {% endif %}
    </div>
    <div class="d-flex align-items-center justify-content-end">
        <p class="px-4">{{ base_user.followers|length }} <i class="text-muted">followers</i></p>
        <p class="px-4">{{ base_user.followings|length }} <i class="text-muted">followings</i></p>
    </div>
</div>
<div>
    <button class="btn btn-primary my-2" id="post_btn">New Post</button>
    <form action="{% url 'post' %}" class="form-group border p-3" method="post">
        {% csrf_token %}
        <h2>New Post</h2>
        <textarea class="form-control mr-5" name="content" rows="5" maxlength="1000"
        required id="content"></textarea>
        <button type="submit" class="btn btn-primary my-3">Post</button>
    </form>
</div>
{% endblock %}